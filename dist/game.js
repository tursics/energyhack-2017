!function(e,s){"object"==typeof exports&&"object"==typeof module?module.exports=s():"function"==typeof define&&define.amd?define([],s):"object"==typeof exports?exports.game=s():e.game=s()}(this,(function(){return function(e){var s={};function l(a){if(s[a])return s[a].exports;var n=s[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,l),n.l=!0,n.exports}return l.m=e,l.c=s,l.d=function(e,s,a){l.o(e,s)||Object.defineProperty(e,s,{enumerable:!0,get:a})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,s){if(1&s&&(e=l(e)),8&s)return e;if(4&s&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&s&&"string"!=typeof e)for(var n in e)l.d(a,n,function(s){return e[s]}.bind(null,n));return a},l.n=function(e){var s=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(s,"a",s),s},l.o=function(e,s){return Object.prototype.hasOwnProperty.call(e,s)},l.p="",l(l.s=0)}([function(e,s,l){"use strict";l.r(s);var a=0,n=1;var t=null;var o=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,r=(window.cancelAnimationFrame||window.mozCancelAnimationFrame,void 0),i=void 0;function d(){var e;a=new Date(a.getTime()+1e3*n),e=("0"+a.getDate()).slice(-2)+"."+("0"+(a.getMonth()+1)).slice(-2)+"."+a.getFullYear()+" "+("0"+a.getHours()).slice(-2)+":"+("0"+a.getMinutes()).slice(-2)+" Uhr",$("#clock").html(e)}function f(e){void 0===r&&(r=e);var s=Math.trunc((e-r)/1e3);s!==i&&(i=s,d()),o(f)}var c=null,u=[];function v(e,s,l){var a="hex"+e;return u.push({selector:"#"+a,tank:s,level:l}),'<div id="'+a+'" class="hex pumpStation fill0 station level'+l+' turbine on3"></div>'}function C(e){var s="hex"+e;return u.push({selector:"#"+s,tank:null}),'<div id="'+s+'" class="hex"></div>'}function m(e,s){var l="hex"+e;return u.push({selector:"#"+l,tank:null}),'<div id="'+l+'" class="hex producer '+s+'"></div>'}function h(e){var s;for(s=0;s<u.length;++s)if(u[s].tank===e)return $(u[s].selector);return null}function p(e){var s,l;for(l="#"+e.attr("id"),s=0;s<u.length;++s)if(u[s].selector===l)return $(u[s].selector);return null}function g(){$("body").css("font-size","1rem"),requestAnimationFrame((function(){var e,s,l,a,n,t,o,r=window.innerWidth,i=window.innerHeight,d=parseInt(u.length/8,10);for(l=$(u[0].selector)[0].scrollWidth,a=$(u[0].selector)[0].scrollHeight,n=parseInt(r/l/8.5*100,10)/100,o=(t=parseInt(i/a/.62/(d+.33)*100,10)/100)<n?t:n,$("body").css("font-size",o+"rem"),e=0;e<u.length;++e)s=Math.trunc(e/8),$(u[e].selector).css({left:2.5*(e%8+s%2*.5)+"em",top:2.15*s-.56+"em","z-index":50+s})}))}var b=[[12,3],[9,6],[11,4],[8,7],[12,3],[13,2],[10,5],[9,6],[11,4],[10,5]];function w(e){null!==e&&(e.hasClass("fill0")?e.removeClass("fill0").addClass("fill1"):e.hasClass("fill1")?e.removeClass("fill1").addClass("fill2"):e.hasClass("fill2")?e.removeClass("fill2").addClass("fill3"):e.hasClass("fill3")?e.removeClass("fill3").addClass("fill4"):e.hasClass("fill4")?e.removeClass("fill4").addClass("fill5"):e.hasClass("fill5")?e.removeClass("fill5").addClass("fill6"):e.hasClass("fill6")&&(e.removeClass("fill6").addClass("crash"),setTimeout((function(){$(".end").show()}),1e3)),k())}function y(e){null!==e&&(e.hasClass("fill6")?e.removeClass("fill6").addClass("fill5"):e.hasClass("fill5")?e.removeClass("fill5").addClass("fill4"):e.hasClass("fill4")?e.removeClass("fill4").addClass("fill3"):e.hasClass("fill3")?e.removeClass("fill3").addClass("fill2"):e.hasClass("fill2")?e.removeClass("fill2").addClass("fill1"):e.hasClass("fill1")&&e.removeClass("fill1").addClass("fill0"),k())}function I(){return b.length}var x=null;function M(e){$(".board-bottom").removeClass("speed1").removeClass("speed2").removeClass("speed3").removeClass("speed4").removeClass("speed5").addClass("speed"+e)}function k(){var e,s,l=0,a=0;for(e=0;e<I();++e)s=h(e),$(s).hasClass("on1")&&(l+=1),$(s).hasClass("on2")&&(l+=2),$(s).hasClass("on3")&&(l+=1);for(e=0;e<u.length;++e)s=$(u[e].selector),$(s).hasClass("coal")&&(a+=1.4),$(s).hasClass("gas")&&(a+=1.4),$(s).hasClass("nuclear")&&(a+=1.4),$(s).hasClass("solar")&&(a+=0),$(s).hasClass("wind")&&(a+=0);$("#speed-marker").css({transform:"rotate("+(l/20*120-60)+"deg)"}),M(1+Math.trunc(a/3))}var j=null,F=0,A=0;function O(e){F+=e}var S,z,_,q;q=$("#start"),(x=q).html(x.html()+'<div class="board-bottom"><div id="speed-marker"></div></div>'),function(e){c=e;var s=0,l="";l+=v(s++,0,1),l+=C(s++),l+=v(s++,1,0),l+=C(s++),l+=C(s++),l+=C(s++),l+=m(s++,"gas"),l+=m(s++,"coal"),l+=v(s++,2,0),l+=v(s++,3,1),l+=C(s++),l+=C(s++),l+=C(s++),l+=m(s++,"coal"),l+=m(s++,"coal"),l+=m(s++,"nuclear"),l+=v(s++,4,2),l+=C(s++),l+=v(s++,5,1),l+=C(s++),l+=C(s++),l+=C(s++),l+=m(s++,"solar"),l+=m(s++,"coal"),l+=C(s++),l+=v(s++,6,3),l+=v(s++,7,4),l+=C(s++),l+=C(s++),l+=m(s++,"coal"),l+=m(s++,"wind"),l+=m(s++,"coal"),l+=v(s++,8,3),l+=C(s++),l+=v(s++,9,1),l+=C(s++),l+=C(s++),l+=C(s++),l+=C(s++),l+=C(s++),c.html(c.html()+l)}(q),function(e){j=e,$(".board-bottom",j).html($(".board-bottom",j).html()+'<div id="pig"></div><div id="coin"></div>')}(q),function(e){e}(q),(S=q).html(S.html()+'<div class="end">Leider verloren</div>'),function(e){t=e,$(".board-bottom",t).html($(".board-bottom",t).html()+'<div id="clock"></div>')}(q),(a=new Date).setMilliseconds(0),n=1,M(1),$(window).resize((function(){g()})),g(),setInterval((function(){w(h(0))}),3e3),setInterval((function(){w(h(1))}),5e3),setInterval((function(){w(h(2))}),3e3),setInterval((function(){w(h(3))}),3e3),setInterval((function(){w(h(4))}),6e3),setInterval((function(){w(h(5))}),7e3),setInterval((function(){w(h(6))}),3e3),setInterval((function(){w(h(7))}),4e3),setInterval((function(){w(h(8))}),6e3),setInterval((function(){w(h(9))}),4e3),$(".turbine").on("click",(function(){var e;null!==(e=p($(this)))&&(e.hasClass("off")?e.removeClass("off").addClass("on1"):e.hasClass("on1")?e.removeClass("on1").addClass("on2"):e.hasClass("on2")?e.removeClass("on2").addClass("on3"):e.removeClass("on1").removeClass("on2").removeClass("on3").addClass("off"))})),$(".producer").on("click",(function(){var e;null!==(e=p($(this)))&&(e.hasClass("coal")?e.removeClass("coal").addClass("gas"):e.hasClass("gas")?e.removeClass("gas").addClass("nuclear"):e.hasClass("nuclear")?e.removeClass("nuclear").addClass("solar"):e.hasClass("solar")?e.removeClass("solar").addClass("wind"):e.hasClass("wind")&&e.removeClass("wind").addClass("coal"))})),setInterval((function(){for(z=0;z<I();++z){var e=h(z);e.hasClass("on2")&&(y(e),y(e),O(2))}}),1e3),setInterval((function(){for(z=0;z<I();++z){var e=h(z);(e.hasClass("on1")||e.hasClass("on3"))&&(y(e),O(1))}}),2e3),setInterval((function(){parseInt(F/7,10)!==parseInt(A/7,10)?$("#pig").hasClass("eat")||($("#pig").addClass("eat"),$("#coin").addClass("eat")):$("#pig").hasClass("eat")&&($("#pig").removeClass("eat"),$("#coin").removeClass("eat")),A=F}),500),n=60*(_=15),a.setMilliseconds(0),a.setSeconds(0),a.setMinutes(Math.trunc(a.getMinutes()/_)*_),o(f)}])}));
//# sourceMappingURL=game.js.map