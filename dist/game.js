!function(e,s){"object"==typeof exports&&"object"==typeof module?module.exports=s():"function"==typeof define&&define.amd?define([],s):"object"==typeof exports?exports.game=s():e.game=s()}(this,(function(){return function(e){var s={};function l(a){if(s[a])return s[a].exports;var t=s[a]={i:a,l:!1,exports:{}};return e[a].call(t.exports,t,t.exports,l),t.l=!0,t.exports}return l.m=e,l.c=s,l.d=function(e,s,a){l.o(e,s)||Object.defineProperty(e,s,{enumerable:!0,get:a})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,s){if(1&s&&(e=l(e)),8&s)return e;if(4&s&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&s&&"string"!=typeof e)for(var t in e)l.d(a,t,function(s){return e[s]}.bind(null,t));return a},l.n=function(e){var s=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(s,"a",s),s},l.o=function(e,s){return Object.prototype.hasOwnProperty.call(e,s)},l.p="",l(l.s=0)}([function(e,s,l){"use strict";l.r(s);var a=0,t=1;function n(){!function(e){var s=new Date(a.getTime()+1e3*e),l=a.getSeconds()+e,t=a.getMinutes()+Math.trunc(l/60),n=(a.getHours()+Math.trunc(t/60))%24;if(s.getHours()===n)a=s;else{var o=s.getHours()-n;a=23===o||-1===o?new Date(a.getTime()+1e3*e+36e5):1===o||-23===o?new Date(a.getTime()+1e3*e-36e5):s}}(t),a.getFullYear()>2016&&a.setFullYear(2016)}var o=null;var r=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,i=(window.cancelAnimationFrame||window.mozCancelAnimationFrame,void 0),d=void 0;function u(){var e;n(),e=("0"+a.getDate()).slice(-2)+"."+("0"+(a.getMonth()+1)).slice(-2)+"."+a.getFullYear()+" "+("0"+a.getHours()).slice(-2)+":"+("0"+a.getMinutes()).slice(-2)+" Uhr",$("#clock").html(e)}function c(e){void 0===i&&(i=e);var s=Math.trunc((e-i)/1e3);s!==d&&(d=s,u()),r(c)}var f=null,v=[];function C(e,s,l){var a="hex"+e;return v.push({selector:"#"+a,tank:s,level:l}),'<div id="'+a+'" class="hex pumpStation fill0 station level'+l+' turbine on3"></div>'}function m(e){var s="hex"+e;return v.push({selector:"#"+s,tank:null}),'<div id="'+s+'" class="hex"></div>'}function h(e,s){var l="hex"+e;return v.push({selector:"#"+l,tank:null}),'<div id="'+l+'" class="hex producer '+s+'"></div>'}function p(e){var s;for(s=0;s<v.length;++s)if(v[s].tank===e)return $(v[s].selector);return null}function g(e){var s,l;for(l="#"+e.attr("id"),s=0;s<v.length;++s)if(v[s].selector===l)return $(v[s].selector);return null}function b(){$("body").css("font-size","1rem"),requestAnimationFrame((function(){var e,s,l,a,t,n,o,r=window.innerWidth,i=window.innerHeight,d=parseInt(v.length/8,10);for(l=$(v[0].selector)[0].scrollWidth,a=$(v[0].selector)[0].scrollHeight,t=parseInt(r/l/8.5*100,10)/100,o=(n=parseInt(i/a/.62/(d+.33)*100,10)/100)<t?n:t,$("body").css("font-size",o+"rem"),e=0;e<v.length;++e)s=Math.trunc(e/8),$(v[e].selector).css({left:2.5*(e%8+s%2*.5)+"em",top:2.15*s-.56+"em","z-index":50+s})}))}var w=[[12,3],[9,6],[11,4],[8,7],[12,3],[13,2],[10,5],[9,6],[11,4],[10,5]];function M(e){null!==e&&(e.hasClass("fill0")?e.removeClass("fill0").addClass("fill1"):e.hasClass("fill1")?e.removeClass("fill1").addClass("fill2"):e.hasClass("fill2")?e.removeClass("fill2").addClass("fill3"):e.hasClass("fill3")?e.removeClass("fill3").addClass("fill4"):e.hasClass("fill4")?e.removeClass("fill4").addClass("fill5"):e.hasClass("fill5")?e.removeClass("fill5").addClass("fill6"):e.hasClass("fill6")&&(e.removeClass("fill6").addClass("crash"),setTimeout((function(){$(".end").show()}),1e3)),F())}function y(e){null!==e&&(e.hasClass("fill6")?e.removeClass("fill6").addClass("fill5"):e.hasClass("fill5")?e.removeClass("fill5").addClass("fill4"):e.hasClass("fill4")?e.removeClass("fill4").addClass("fill3"):e.hasClass("fill3")?e.removeClass("fill3").addClass("fill2"):e.hasClass("fill2")?e.removeClass("fill2").addClass("fill1"):e.hasClass("fill1")&&e.removeClass("fill1").addClass("fill0"),F())}function I(){return w.length}var x=null;function k(e){$(".board-bottom").removeClass("speed1").removeClass("speed2").removeClass("speed3").removeClass("speed4").removeClass("speed5").addClass("speed"+e)}function F(){var e,s,l=0,a=0;for(e=0;e<I();++e)s=p(e),$(s).hasClass("on1")&&(l+=1),$(s).hasClass("on2")&&(l+=2),$(s).hasClass("on3")&&(l+=1);for(e=0;e<v.length;++e)s=$(v[e].selector),$(s).hasClass("coal")&&(a+=1.4),$(s).hasClass("gas")&&(a+=1.4),$(s).hasClass("nuclear")&&(a+=1.4),$(s).hasClass("solar")&&(a+=0),$(s).hasClass("wind")&&(a+=0);$("#speed-marker").css({transform:"rotate("+(l/20*120-60)+"deg)"}),k(1+Math.trunc(a/3))}var j=null,S=0,H=0;function A(e){S+=e}var D,O,z,T,_,q;q=$("#start"),(x=q).html(x.html()+'<div class="board-bottom"><div id="speed-marker"></div></div>'),function(e){f=e;var s=0,l="";l+=C(s++,0,1),l+=m(s++),l+=C(s++,1,0),l+=m(s++),l+=m(s++),l+=m(s++),l+=h(s++,"gas"),l+=h(s++,"coal"),l+=C(s++,2,0),l+=C(s++,3,1),l+=m(s++),l+=m(s++),l+=m(s++),l+=h(s++,"coal"),l+=h(s++,"coal"),l+=h(s++,"nuclear"),l+=C(s++,4,2),l+=m(s++),l+=C(s++,5,1),l+=m(s++),l+=m(s++),l+=m(s++),l+=h(s++,"solar"),l+=h(s++,"coal"),l+=m(s++),l+=C(s++,6,3),l+=C(s++,7,4),l+=m(s++),l+=m(s++),l+=h(s++,"coal"),l+=h(s++,"wind"),l+=h(s++,"coal"),l+=C(s++,8,3),l+=m(s++),l+=C(s++,9,1),l+=m(s++),l+=m(s++),l+=m(s++),l+=m(s++),l+=m(s++),f.html(f.html()+l)}(q),function(e){j=e,$(".board-bottom",j).html($(".board-bottom",j).html()+'<div id="pig"></div><div id="coin"></div>')}(q),function(e){e}(q),(D=q).html(D.html()+'<div class="end">Leider verloren</div>'),function(e){o=e,$(".board-bottom",o).html($(".board-bottom",o).html()+'<div id="clock"></div>')}(q),(a=new Date).setMilliseconds(0),a.setFullYear(2016),t=1,k(1),$(window).resize((function(){b()})),b(),setInterval((function(){M(p(0))}),3e3),setInterval((function(){M(p(1))}),5e3),setInterval((function(){M(p(2))}),3e3),setInterval((function(){M(p(3))}),3e3),setInterval((function(){M(p(4))}),6e3),setInterval((function(){M(p(5))}),7e3),setInterval((function(){M(p(6))}),3e3),setInterval((function(){M(p(7))}),4e3),setInterval((function(){M(p(8))}),6e3),setInterval((function(){M(p(9))}),4e3),$(".turbine").on("click",(function(){var e;null!==(e=g($(this)))&&(e.hasClass("off")?e.removeClass("off").addClass("on1"):e.hasClass("on1")?e.removeClass("on1").addClass("on2"):e.hasClass("on2")?e.removeClass("on2").addClass("on3"):e.removeClass("on1").removeClass("on2").removeClass("on3").addClass("off"))})),$(".producer").on("click",(function(){var e;null!==(e=g($(this)))&&(e.hasClass("coal")?e.removeClass("coal").addClass("gas"):e.hasClass("gas")?e.removeClass("gas").addClass("nuclear"):e.hasClass("nuclear")?e.removeClass("nuclear").addClass("solar"):e.hasClass("solar")?e.removeClass("solar").addClass("wind"):e.hasClass("wind")&&e.removeClass("wind").addClass("coal"))})),setInterval((function(){for(O=0;O<I();++O){var e=p(O);e.hasClass("on2")&&(y(e),y(e),A(2))}}),1e3),setInterval((function(){for(O=0;O<I();++O){var e=p(O);(e.hasClass("on1")||e.hasClass("on3"))&&(y(e),A(1))}}),2e3),setInterval((function(){parseInt(S/7,10)!==parseInt(H/7,10)?$("#pig").hasClass("eat")||($("#pig").addClass("eat"),$("#coin").addClass("eat")):$("#pig").hasClass("eat")&&($("#pig").removeClass("eat"),$("#coin").removeClass("eat")),H=S}),500),t=60*(z=15),a.setMilliseconds(0),a.setSeconds(0),a.setMinutes(Math.trunc(a.getMinutes()/z)*z),t=60*(T=12)*60,a.setMilliseconds(0),a.setSeconds(0),a.setMinutes(0),a.setHours(Math.trunc(a.getHours()/T)*T),t=60*(_=7)*60*24,a.setMilliseconds(0),a.setSeconds(0),a.setMinutes(0),a.setHours(0),a.setDate(Math.trunc(a.getDate()/_)*_),r(c)}])}));
//# sourceMappingURL=game.js.map