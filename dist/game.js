!function(e,s){"object"==typeof exports&&"object"==typeof module?module.exports=s():"function"==typeof define&&define.amd?define([],s):"object"==typeof exports?exports.game=s():e.game=s()}(this,(function(){return function(e){var s={};function l(a){if(s[a])return s[a].exports;var t=s[a]={i:a,l:!1,exports:{}};return e[a].call(t.exports,t,t.exports,l),t.l=!0,t.exports}return l.m=e,l.c=s,l.d=function(e,s,a){l.o(e,s)||Object.defineProperty(e,s,{enumerable:!0,get:a})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,s){if(1&s&&(e=l(e)),8&s)return e;if(4&s&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&s&&"string"!=typeof e)for(var t in e)l.d(a,t,function(s){return e[s]}.bind(null,t));return a},l.n=function(e){var s=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(s,"a",s),s},l.o=function(e,s){return Object.prototype.hasOwnProperty.call(e,s)},l.p="",l(l.s=0)}([function(e,s,l){"use strict";l.r(s);var a=0,t=1;var n=null;var o=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,r=(window.cancelAnimationFrame||window.mozCancelAnimationFrame,void 0),i=void 0;function d(){var e;(a=new Date(a.getTime()+1e3*t)).getFullYear()>2016&&a.setFullYear(2016),e=("0"+a.getDate()).slice(-2)+"."+("0"+(a.getMonth()+1)).slice(-2)+"."+a.getFullYear()+" "+("0"+a.getHours()).slice(-2)+":"+("0"+a.getMinutes()).slice(-2)+" Uhr",$("#clock").html(e)}function u(e){void 0===r&&(r=e);var s=Math.trunc((e-r)/1e3);s!==i&&(i=s,d()),o(u)}var c=null,f=[];function v(e,s,l){var a="hex"+e;return f.push({selector:"#"+a,tank:s,level:l}),'<div id="'+a+'" class="hex pumpStation fill0 station level'+l+' turbine on3"></div>'}function C(e){var s="hex"+e;return f.push({selector:"#"+s,tank:null}),'<div id="'+s+'" class="hex"></div>'}function m(e,s){var l="hex"+e;return f.push({selector:"#"+l,tank:null}),'<div id="'+l+'" class="hex producer '+s+'"></div>'}function h(e){var s;for(s=0;s<f.length;++s)if(f[s].tank===e)return $(f[s].selector);return null}function p(e){var s,l;for(l="#"+e.attr("id"),s=0;s<f.length;++s)if(f[s].selector===l)return $(f[s].selector);return null}function g(){$("body").css("font-size","1rem"),requestAnimationFrame((function(){var e,s,l,a,t,n,o,r=window.innerWidth,i=window.innerHeight,d=parseInt(f.length/8,10);for(l=$(f[0].selector)[0].scrollWidth,a=$(f[0].selector)[0].scrollHeight,t=parseInt(r/l/8.5*100,10)/100,o=(n=parseInt(i/a/.62/(d+.33)*100,10)/100)<t?n:t,$("body").css("font-size",o+"rem"),e=0;e<f.length;++e)s=Math.trunc(e/8),$(f[e].selector).css({left:2.5*(e%8+s%2*.5)+"em",top:2.15*s-.56+"em","z-index":50+s})}))}var b=[[12,3],[9,6],[11,4],[8,7],[12,3],[13,2],[10,5],[9,6],[11,4],[10,5]];function w(e){null!==e&&(e.hasClass("fill0")?e.removeClass("fill0").addClass("fill1"):e.hasClass("fill1")?e.removeClass("fill1").addClass("fill2"):e.hasClass("fill2")?e.removeClass("fill2").addClass("fill3"):e.hasClass("fill3")?e.removeClass("fill3").addClass("fill4"):e.hasClass("fill4")?e.removeClass("fill4").addClass("fill5"):e.hasClass("fill5")?e.removeClass("fill5").addClass("fill6"):e.hasClass("fill6")&&(e.removeClass("fill6").addClass("crash"),setTimeout((function(){$(".end").show()}),1e3)),k())}function M(e){null!==e&&(e.hasClass("fill6")?e.removeClass("fill6").addClass("fill5"):e.hasClass("fill5")?e.removeClass("fill5").addClass("fill4"):e.hasClass("fill4")?e.removeClass("fill4").addClass("fill3"):e.hasClass("fill3")?e.removeClass("fill3").addClass("fill2"):e.hasClass("fill2")?e.removeClass("fill2").addClass("fill1"):e.hasClass("fill1")&&e.removeClass("fill1").addClass("fill0"),k())}function y(){return b.length}var I=null;function x(e){$(".board-bottom").removeClass("speed1").removeClass("speed2").removeClass("speed3").removeClass("speed4").removeClass("speed5").addClass("speed"+e)}function k(){var e,s,l=0,a=0;for(e=0;e<y();++e)s=h(e),$(s).hasClass("on1")&&(l+=1),$(s).hasClass("on2")&&(l+=2),$(s).hasClass("on3")&&(l+=1);for(e=0;e<f.length;++e)s=$(f[e].selector),$(s).hasClass("coal")&&(a+=1.4),$(s).hasClass("gas")&&(a+=1.4),$(s).hasClass("nuclear")&&(a+=1.4),$(s).hasClass("solar")&&(a+=0),$(s).hasClass("wind")&&(a+=0);$("#speed-marker").css({transform:"rotate("+(l/20*120-60)+"deg)"}),x(1+Math.trunc(a/3))}var F=null,j=0,S=0;function A(e){j+=e}var O,z,H,_,q,D;D=$("#start"),(I=D).html(I.html()+'<div class="board-bottom"><div id="speed-marker"></div></div>'),function(e){c=e;var s=0,l="";l+=v(s++,0,1),l+=C(s++),l+=v(s++,1,0),l+=C(s++),l+=C(s++),l+=C(s++),l+=m(s++,"gas"),l+=m(s++,"coal"),l+=v(s++,2,0),l+=v(s++,3,1),l+=C(s++),l+=C(s++),l+=C(s++),l+=m(s++,"coal"),l+=m(s++,"coal"),l+=m(s++,"nuclear"),l+=v(s++,4,2),l+=C(s++),l+=v(s++,5,1),l+=C(s++),l+=C(s++),l+=C(s++),l+=m(s++,"solar"),l+=m(s++,"coal"),l+=C(s++),l+=v(s++,6,3),l+=v(s++,7,4),l+=C(s++),l+=C(s++),l+=m(s++,"coal"),l+=m(s++,"wind"),l+=m(s++,"coal"),l+=v(s++,8,3),l+=C(s++),l+=v(s++,9,1),l+=C(s++),l+=C(s++),l+=C(s++),l+=C(s++),l+=C(s++),c.html(c.html()+l)}(D),function(e){F=e,$(".board-bottom",F).html($(".board-bottom",F).html()+'<div id="pig"></div><div id="coin"></div>')}(D),function(e){e}(D),(O=D).html(O.html()+'<div class="end">Leider verloren</div>'),function(e){n=e,$(".board-bottom",n).html($(".board-bottom",n).html()+'<div id="clock"></div>')}(D),(a=new Date).setMilliseconds(0),a.setFullYear(2016),t=1,x(1),$(window).resize((function(){g()})),g(),setInterval((function(){w(h(0))}),3e3),setInterval((function(){w(h(1))}),5e3),setInterval((function(){w(h(2))}),3e3),setInterval((function(){w(h(3))}),3e3),setInterval((function(){w(h(4))}),6e3),setInterval((function(){w(h(5))}),7e3),setInterval((function(){w(h(6))}),3e3),setInterval((function(){w(h(7))}),4e3),setInterval((function(){w(h(8))}),6e3),setInterval((function(){w(h(9))}),4e3),$(".turbine").on("click",(function(){var e;null!==(e=p($(this)))&&(e.hasClass("off")?e.removeClass("off").addClass("on1"):e.hasClass("on1")?e.removeClass("on1").addClass("on2"):e.hasClass("on2")?e.removeClass("on2").addClass("on3"):e.removeClass("on1").removeClass("on2").removeClass("on3").addClass("off"))})),$(".producer").on("click",(function(){var e;null!==(e=p($(this)))&&(e.hasClass("coal")?e.removeClass("coal").addClass("gas"):e.hasClass("gas")?e.removeClass("gas").addClass("nuclear"):e.hasClass("nuclear")?e.removeClass("nuclear").addClass("solar"):e.hasClass("solar")?e.removeClass("solar").addClass("wind"):e.hasClass("wind")&&e.removeClass("wind").addClass("coal"))})),setInterval((function(){for(z=0;z<y();++z){var e=h(z);e.hasClass("on2")&&(M(e),M(e),A(2))}}),1e3),setInterval((function(){for(z=0;z<y();++z){var e=h(z);(e.hasClass("on1")||e.hasClass("on3"))&&(M(e),A(1))}}),2e3),setInterval((function(){parseInt(j/7,10)!==parseInt(S/7,10)?$("#pig").hasClass("eat")||($("#pig").addClass("eat"),$("#coin").addClass("eat")):$("#pig").hasClass("eat")&&($("#pig").removeClass("eat"),$("#coin").removeClass("eat")),S=j}),500),t=60*(H=15),a.setMilliseconds(0),a.setSeconds(0),a.setMinutes(Math.trunc(a.getMinutes()/H)*H),t=60*(_=12)*60,a.setMilliseconds(0),a.setSeconds(0),a.setMinutes(0),a.setHours(Math.trunc(a.getHours()/_)*_),t=60*(q=7)*60*24,a.setMilliseconds(0),a.setSeconds(0),a.setMinutes(0),a.setHours(0),a.setDate(Math.trunc(a.getDate()/q)*q),o(u)}])}));
//# sourceMappingURL=game.js.map